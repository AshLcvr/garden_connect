{% block stylesheets %}
    <link href="{{ asset('bootstrap/sb-admin-2.css') }}" rel="stylesheet">
{% endblock %}
{% set hidden_class = '' %}
{% if app.request.attributes.get('_route') == 'app_boutique_new' %}
    {% set hidden_class = 'hidden' %}
{% endif %}
<div class="body">
    <div class="wrap boutique_form">
        {{ form_start(form, {attr : {novalidate: 'novalidate'}}) }}

        <div class="bloc_form">
            <h3>Les informations de votre boutique</h3>
            <p>Seuls les champs marqués d'un <span> *</span> sont obligatoires.</p>
        </div>

        <div id="form_upload" class=" bloc_form {{ hidden_class }}">
            {{ form_label(form.upload) }}
            <br>
            {{ form_widget(form.upload) }}
            <br>
            <small>{{ form_help(form.upload) }}</small>
            <br>
            <div class="form-error">
                {% for label, messages in app.flashes %}
                    {% for message in messages %}
                        <div class="flash-{{ label }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endfor %}
            </div>
        </div>

        <div class="bloc_form">
            {{ form_label(form.title) }}<span> *</span>
            {{ form_widget(form.title) }}
            <small>{{ form_help(form.title) }}</small>
            <div class="form-error">
                {{ form_errors(form.title) }}
            </div>
        </div>
        <div class="bloc_form">
            {{ form_label(form.description) }}
            {{ form_widget(form.description) }}
            <small>{{ form_help(form.description) }}</small>
            <div class="form-error">
                {{ form_errors(form.description) }}
            </div>
        </div>

        <div class="bloc_form d-flex " style="gap: 2rem">
            {% if app.request.attributes.get('_route') == 'app_boutique_new'%}
                <div style="width: 10%">
                    {{ form_label(form.indicatif) }}
                    {{ form_widget(form.indicatif) }}
                    <small>{{ form_help(form.indicatif) }}</small>
                    <div class="form-error">
                        {{ form_errors(form.indicatif) }}
                    </div>
                </div>
            {% else %}
                <div style="display: none">
                    {{ form_label(form.indicatif) }}
                    {{ form_widget(form.indicatif) }}
                    <small>{{ form_help(form.indicatif) }}</small>
                    <div class="form-error">
                        {{ form_errors(form.indicatif) }}
                    </div>
                </div>
            {% endif %}

            <div>
                {{ form_label(form.telephone) }}
                {{ form_widget(form.telephone) }}
                <small>{{ form_help(form.telephone) }}</small>
                <div class="form-error">
                    {{ form_errors(form.telephone) }}
                </div>
            </div>
        </div>

        <div class="bloc_form">
            <h3>Votre addresse</h3>
            <p>Une adresse complète permet une meilleure visibilité pour vos annonces.</p>
            <p>Votre adresse permet aux utilisateurs de situer votre boutique sur votre page publique.</p>
            <p>Vous pouvez désactiver la carte de votre page dans l'onglet <i>'Gérer ma boutique'</i> puis <i>'Mes préférences'</i>.</p>
        </div>

        <div class="bloc_form d-flex" style="gap: 2rem; ">
            <div class="bloc_form adress_form">
                {{ form_label(form.adress) }}
                {{ form_widget(form.adress) }}
                <small>{{ form_help(form.adress) }}</small>
                <div class="form-error">
                    {{ form_errors(form.adress) }}
                </div>
            </div>

            <div class="bloc_form city_search">
                {{ form_label(form.search) }}<span> *</span>
                {{ form_widget(form.search, {attr : {style: '-moz-appearance: textfield'}}) }}
                <small>{{ form_help(form.search) }}</small>
                <div class="form-error">
                    {{ form_errors(form.search) }}
                </div>

                <ul id="city_suggest" class="hidden"></ul>
            </div>
        </div>

        <div class="bloc_submit mb-5">
            <button class="btn btn-primary">{{ button_label|default('C\'est parti !') }}</button>
        </div>
        {{ form_end(form) }}
    </div>
</div>
